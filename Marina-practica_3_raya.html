<!DOCTYPE html>
<meta charset="UTF8">
<html>
	<head>
	  <title>
	    3 en raya
	  </title>
		<style>
		p{
			width: 900px;
			height: 25px;
			font-size: 35px;
			text-align: center;
		}
		table{
			 width: 900px;
			 height: 900px;
			 position: absolute;
		 }
		 tr {
			 display: inline;
		 }
		 td {
			 height: 300px;
			 border: solid;
			 width: 300px;
             font-size: 60px;
             text-align: center;
		 }
		 .playerSlot {
			 background-color: red;
		 }
	 	 .foeSlot {
	 		 background-color: blue;
	 	 }
		</style>
		<script>
			var playerSlotSelections = [];
			var foeSlotSelections = [];
			var matrixGames = [[],[],[]];

			function determinateVictory(){

			}
			function updateCellClass(targetClass, classUse){
                
                document.getElementById(targetClass).classList.add(classUse)

                
			}
			function manageClick(event){
                event.innerText = document.turn;
      
            // Verificació de número de jugadas por jugador
             if( document.turn == "X"){   
		       updateCellClass(event.id,"foeSlot");
                 
                if (foeSlotSelections.length >= 3){
                    alert("Llegaste al limite "+ document.turn );
                }else{
                  foeSlotSelections.push(event.id);
                  if(event.innerText == "X"){
                // Ahora se puede quitar un elemento de foeSlotSelections
			     var index = foeSlotSelections.indexOf(event.id);
			      foeSlotSelections.splice(index,1);
                   
                  }
                }

                 
             }else if (document.turn == "O"){
                updateCellClass(event.id,"playerSlot");
                if (foeSlotSelections.length >= 3){
                    alert("Llegaste al limite "+ document.turn );
                }else{
                playerSlotSelections.push(event.id);}
             } 
            // Llamar a la función cambio de turno.    
                switchTurn();          
			}
            function unClick (){

            }
			function mainFuncLauncher(){
                document.turn ="O";
                setMessage(document.turn + " Empieza.")
				  
			}
            // Función que nos mostrará lo mensajes en pantalla
            function setMessage(msg) {
               document.getElementById("gameResult").innerText = msg;
            }

            // Determina de quién es el turno
            function switchTurn(){
                console.log("cambiando turno");
                if(document.turn == "X"){
                    document.turn = "O";
                }else {
                    document.turn = "X";
                }
                setMessage (" Es el turno de: "+ document.turn + "")
            }   

		</script>
	</head>
	<body onload="mainFuncLauncher()">
		<p id="gameResult"></p>
		<table>
			<tr>
				<td  id="00" onclick="manageClick(this);">
				</td>
				<td  id="01" onclick="manageClick(this);">
				</td>
				<td id="02" onclick="manageClick(this);">
				</td>
			</tr>
			<tr>
				<td id="03"onclick="manageClick(this);">
				</td>
				<td  id="04" onclick="manageClick(this);">
				</td>
				<td  id="05"onclick="manageClick(this);">
				</td>
			</tr>
			<tr>
				<td id="06" onclick="manageClick(this);"> 
				</td>
				<td  id="07"onclick="manageClick(this);">
				</td>
				<td  id="08" onclick="manageClick(this);">
				</td>
			</tr>
		</table>
	</body>
</html>
